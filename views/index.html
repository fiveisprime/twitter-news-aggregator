<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="apple-mobile-web-app-title" content="Node.js">
  <meta name="viewport" content="initial-scale=1.0,user-scalable=no">

  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Node.js Twitter News Aggregator</title>

  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,600' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="/styles/grid.css">
  <link rel="stylesheet" href="/styles/style.css">
  <link rel="stylesheet" href="/styles/normalize.css">

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

</head>
<body>
  <h2>Use <code>/?q=%23hashtag</code> to search for hashtags.</h2>
  <section class="container">
    <div class="spacer"></div>
    {{#each tweets}}
      <div class="grid_6">
        <div class="tweet">
          <p class="text">{{text}}</p>
          <p>From: <a href="http://twitter.com/{{user.screen_name}}" target="_blank">@{{user.screen_name}}</a></p>
          <small>{{created_at}}</small>
        </div>
      </div>
    {{else}}
      <p>
        No tweets found.
      </p>
    {{/each}}
  </section>
  <script type="text/javascript">
  (function($) {
    $(".tweet > p.text").each(function() {
      var exp = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;
      return $(this).html($(this).html().replace(exp, "<a href='$1' target='_blank'>$1</a>"));
    });
  })(jQuery);
  </script>
</body>
</html>
